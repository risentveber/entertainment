<script>
    $(document).on("page:load ready", function(){
        $('body').addClass('night').removeClass('day');
    });
</script>
<style>
    .cloud{
    }
    #cloud-1{
        top: 30px;
    }
    #cloud-2{
        top: 200px;
    }
    #cloud-3{
        top: 350px;
    }
</style>
<div class="homepage-hero-module">
    <div class="welcome-yet" style = 'background: url(/images/bkg-m2.png); background-size: cover; background-repeat: no-repeat; background-position: center;'>
        <div class="filter"></div>
        <!-- <video autoplay muted class="fillWidth">
            <source src="<%= image_path "Marguerite.mp4" %>" type="video/mp4"/>
        </video> -->
        <!--<img src = '' class = 'fillWidth'/>-->
    <%= render 'form' %>
    </div>
    <div class = 'introduce'>
        <div class = 'content-introduce'>
            <div class = 'text-description'>
                <h2>В Studpad все легко и просто</h2>
                <p>Создавать блоги и публиковать в них проще простого. Делитесь историями, фотографиями, GIF-ками, телесериалами, ссылками, шутками, рассказами, дорожками Spotify, mp3-записями, видео, философскими рассуждениями, новинками моды и искусства. Studpad — семейство блогов (254 миллионов), в котором вы найдете все, что угодно.</p>
            </div>
        </div>
    </div>
    <div class = 'about-studpad'>
        <div class = 'content-about-studpad'>
            <div class = 'text-description'>
                <h2>В Studpad все легко и просто</h2>
                <p>Создавать блоги и публиковать в них проще простого. Делитесь историями, фотографиями, GIF-ками, телесериалами, ссылками, шутками, рассказами, дорожками Spotify, mp3-записями, видео, философскими рассуждениями, новинками моды и искусства. Studpad — семейство блогов (254 миллионов), в котором вы найдете все, что угодно.</p>
            </div>
        </div>
    </div>
    <div class = 'conclusion'>
        <div class = 'content-conclusion'>
            <img src = "https://cs7055.vk.me/c540109/v540109420/d95/GDRYmraGCUA.jpg" id = 'about-HW_img' class="animate img-hide">
            <div class = 'content-text-right'>
            </div>
        </div>
    </div>
</div>


<script>
    /*$(window).scroll(function() {
        $('#introduce_img').each(function(){
        var imagePos = $(this).offset().top;

        var topOfWindow = $(window).scrollTop();
            if (imagePos < topOfWindow+400) {
                $(this).addClass("slideUp");
            }
        });
        $('#about-UM_img').each(function(){
        var imagePos = $(this).offset().top;

        var topOfWindow = $(window).scrollTop();
            if (imagePos < topOfWindow+400) {
                $(this).addClass("slideUp");
            }
        });
        $('#about-HW_img').each(function(){
        var imagePos = $(this).offset().top;

        var topOfWindow = $(window).scrollTop();
            if (imagePos < topOfWindow+400) {
                $(this).addClass("slideUp");
            }
        });
        $('#conclusion_img').each(function(){
        var imagePos = $(this).offset().top;

        var topOfWindow = $(window).scrollTop();
            if (imagePos < topOfWindow+400) {
                $(this).addClass("slideUp");
            }
        });
    }); */
</script>

<script>
    $( document ).ready(function() {
        $('#hat-studpad').hide();
        scaleVideoContainer();

        $(window).on('resize', function() {
            scaleVideoContainer();
        });

    });

    function scaleVideoContainer() {

        var height = $(window).height() + 5;
        var unitHeight = parseInt(height) + 'px';
        $('.homepage-hero-module').css('height',unitHeight);

    }

    function initBannerVideoSize(element){

        $(element).each(function(){
            $(this).data('height', $(this).height());
            $(this).data('width', $(this).width());
        });

        scaleBannerVideoSize(element);

    }

    function scaleBannerVideoSize(element){

        var windowWidth = $(window).width(),
        windowHeight = $(window).height() + 5,
        videoWidth,
        videoHeight;

        console.log(windowHeight);

        $(element).each(function(){
            var videoAspectRatio = $(this).data('height')/$(this).data('width');

            $(this).width(windowWidth);

            if(windowWidth < 1000){
                videoHeight = windowHeight;
                videoWidth = videoHeight / videoAspectRatio;
                $(this).css({'margin-top' : 0, 'margin-left' : -(videoWidth - windowWidth) / 2 + 'px'});

                $(this).width(videoWidth).height(videoHeight);
            }

            $('.homepage-hero-module .video-container video').addClass('animated');

        });
    }
</script>
